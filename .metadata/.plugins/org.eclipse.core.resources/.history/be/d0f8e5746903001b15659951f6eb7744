<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Profile</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
 
</head>
<body>
<jsp:include page="components/header.jsp"/>
<br>
<br>
<br>
<br>
<div class="container ">

			<c:if test="${not empty user_account.image}">
		     <img src="static/img/users/${user_account.id}/profile/${user_account.image}"
		      style="width:150px; height:150px; border-radius: 50%;" class="img-responsive">		    
			 </c:if>
			 
			 <a href="#" data-toggle="modal" data-target="#add-images" >
							 <c:choose>
							 <c:when test="${not empty user_account.image}">
							 Edit <i class="fa fa-image"></i> <i class="fa fa-pencil"></i>
							 </c:when>
							 <c:otherwise>
							 Add <i class="fa fa-image"></i><i class="fa fa-plus"></i>
							 </c:otherwise>
							 </c:choose>			 
				</a>	

  			<div class="col-lg-10 text-center ">
              <h3>${msg} ${success} <span class="text-danger"> ${error} ${param.error}</span></h3>
              <p>${user_account}</p>
              
              <table class="table">
                <tr class="text-success">
					 <th>Item</th>
					 <th>Detail</th>
			    </tr>
				<tr class="text-success">
					 <td>First name</td>
					 <td>${user_account.fName}</td>
					 
				</tr>
				<tr class="text-success">
					 <td>Last Name</td>
					 <td>${user_account.lName}</td>
					 
				</tr>
				<tr class="text-success">
					 <td>Email</td>
					 <td>${user_account.email}</td>
					 
				</tr>
				<tbody>
				</tbody>
				</table>
            </div>
            
            
     

</div>
     
				<div class="modal fade" id="add-images">
					  <div class="modal-dialog modal-sm">
					   <div class="modal-content">	
					   <div class="modal-header">
			                <h3 class="modal-">Add Image
			                <button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">Ã—</span></button>
			                </h3>
			              </div>       
					   <!-- Modal body -->
						<div class="modal-body">	
						
						<form method="POST" action="addimages" enctype="multipart/form-data" id="form-validate" >
			               
			                  <input name="id" type="hidden" value="${user_account.id}" >
			                  <h5 class="legend">Select Photo</h5>
			                 
			                      <div class="">
			                        <div class="input-box name-firstname">
			                          <img id="output_image" class="col-md-8"/>
			                        </div>
			                         
			                        <div class="input-box">
			                           <div class="input-box1">
			                            <input type="file" name="file" class="input-text"  onchange="preview_image(event)" required>					                             
							            					
			                          </div>
			                        </div>
			                      </div>
			                    
			                	                
			                <div class="buttons-set">			                 
			                  <button type="submit" title="Save" class="btn btn-info"><span>Save</span></button>
			                  <button type="button" data-dismiss="modal" aria-label="Close" class="btn btn-danger">Close</button>
			                </div>
			             </form>
			              
			    		 
		                  </div>
					  </div>	        
				   
				    </div>
					</div> 
					
	<script type="text/javascript">
    function preview_image(event) 
    {
     var reader = new FileReader();
     reader.onload = function()
     {
      var output = document.getElementById('output_image');
      output.classList.add("preview");
      output.src = reader.result;
     }
     reader.readAsDataURL(event.target.files[0]);
    }
   
	    function confirmed(){
            if (confirm('You are about to delete, Do you want to proceed?')) {
                  document.getElementById("del").submit();
                  return true;
	            } else {
	               return false;
	            }
	         }
   
</script> 

</body>
</html>